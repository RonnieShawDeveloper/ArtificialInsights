<!-- src/app/auth/signup/signup.component.html -->

<!-- Main container using Bootstrap for centering and responsiveness -->
<div class="container-fluid d-flex justify-content-center align-items-center min-vh-100 bg-light p-3">
  <!-- Bootstrap Card for the signup form -->
  <div class="card shadow-lg rounded-3" style="max-width: 450px; width: 100%;">
    <div class="card-body p-5">
      <div class="text-center mb-5">
        <h1 class="card-title fw-bold text-primary mb-2">Artificial Insights</h1>
        <h2 class="card-subtitle text-muted fs-5">Create your account</h2>
      </div>

      <!-- Loading progress bar -->
      <mat-progress-bar *ngIf="isLoading" mode="indeterminate" class="mb-4"></mat-progress-bar>

      <!-- Display error message if present -->
      <div *ngIf="errorMessage" class="alert alert-danger text-center mb-4" role="alert">
        <strong>Error!</strong> {{ errorMessage }}
      </div>

      <!-- Signup Form -->
      <form (ngSubmit)="onSignup()">
        <!-- Email Input Field -->
        <mat-form-field appearance="outline" class="w-100 mb-3">
          <mat-label>Email</mat-label>
          <input matInput type="email" [formControl]="email" required placeholder="your.email@example.com">
          <mat-icon matSuffix>email</mat-icon>
          <mat-error *ngIf="email.invalid">{{ getEmailErrorMessage() }}</mat-error>
        </mat-form-field>

        <!-- Password Input Field -->
        <mat-form-field appearance="outline" class="w-100 mb-3">
          <mat-label>Password</mat-label>
          <input matInput type="password" [formControl]="password" required placeholder="Enter your password">
          <mat-icon matSuffix>lock</mat-icon>
          <mat-error *ngIf="password.invalid">{{ getPasswordErrorMessage() }}</mat-error>
        </mat-form-field>

        <!-- Confirm Password Input Field -->
        <mat-form-field appearance="outline" class="w-100 mb-4">
          <mat-label>Confirm Password</mat-label>
          <input matInput type="password" [formControl]="confirmPassword" required placeholder="Confirm your password">
          <mat-icon matSuffix>lock_open</mat-icon>
          <mat-error *ngIf="confirmPassword.invalid">{{ getConfirmPasswordErrorMessage() }}</mat-error>
        </mat-form-field>

        <!-- Sign Up Button -->
        <button mat-raised-button color="primary" class="w-100 py-2 fs-5 fw-semibold" [disabled]="isLoading">
          Sign Up
        </button>
      </form>
    </div>

    <div class="card-footer bg-transparent border-0 text-center pt-0 pb-4">
      <!-- Link to Login Page -->
      <button mat-button color="accent" routerLink="/login" [disabled]="isLoading">
        Already have an account? Login
      </button>
    </div>
  </div>
</div>
